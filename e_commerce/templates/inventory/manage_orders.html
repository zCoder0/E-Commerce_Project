<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Orders | Inventory | E-Commerce</title>
    
    <link rel="stylesheet" href="/static/inventory_manage.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    /* Body and container */
    body {
      padding: 20px;
      background-color: #f7f9fc;
      font-family: Arial, sans-serif;
    }

    h1 {
      font-weight: 600;
      color: #333;
    }

    /* Stock status colors */
    .low {
      background-color: #fff3cd !important;
    }

    .out {
      background-color: #f8d7da !important;
    }

    .ok {
      background-color: #d1e7dd !important;
    }

    /* Small text helper */
    .small {
      font-size: 0.9rem;
    }

    /* Table styling */
    .table-sticky {
      border-collapse: collapse;
      width: 100%;
    }

    .table-sticky thead th {
      position: sticky;
      top: 0;
      z-index: 1;
      background-color: #fff;
      border-bottom: 2px solid #dee2e6;
    }

    .table-hover tbody tr:hover {
      background-color: #e2e6ea;
    }

    .table-bordered td,
    .table-bordered th {
      border: 1px solid #dee2e6;
    }

    /* Buttons */
    .btn-outline-primary,
    .btn-outline-secondary {
      padding: 0.35rem 0.75rem;
      font-size: 0.9rem;
    }

    /* Form spacing */
    .row.mb-3 > div {
      margin-bottom: 10px;
    }

    /* Card summary */
    .card {
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      border-radius: 8px;
    }

    .card-body {
      padding: 10px 15px;
    }

    /* Input & select */
    .form-control,
    .form-select {
      border-radius: 5px;
      border: 1px solid #ced4da;
    }

    /* Export / Reset buttons container */
    .d-flex.gap-2 {
      margin-bottom: 15px;
    }

    a {
      text-decoration: none;
      color: inherit;
    }
  </style>
</head>
<body>
    
     {% block content %}
    <!-- Inventory content will go here -->
        
          
        {% include 'inventory/navbar.html' %}

        <h1>Inventory Management</h1>
        <p>Manage your inventory here. You can add, update, or delete products.</p>
    <form method="post">
    {% csrf_token %}
    <input type="hidden" name="action" value="filter_area">
    <div class="col-md-3 mb-2">
        <select id="areaFilter" name="area_code" class="form-select">
        <option value="">All Ordered Areas</option>
        {% for area in orders %}
            <option value="{{ area.zipcode }}">{{ area.city }}</option>
        {% endfor %}
        </select>
    </div>
    <input type="submit" value="Filter">
    </form>

    {% if orders %}
    <table class="table table-bordered">
    <tr>
        <th>Order Id</th>
        <th>User Name</th>
        <th>User Email</th>
        <th>User Mobile</th>
        <th>Total Amount</th>
        <th>Quantity</th>
        <th>Address</th>
        <th>City</th>
        <th>State</th>
        <th>Country</th>
        <th>Zipcode</th>
        <th>Status</th>
        <th>Action</th>
    </tr>

    {% for order in orders %}
    <tr>
        <td>{{ order.order_id }}</td>
        <td>{{ order.user_name }}</td>
        <td>{{ order.user_email }}</td>
        <td>{{ order.user_mobile }}</td>
        <td>{{ order.total_amount }}</td>
        <td>{{ order.quantity }}</td>
        <td>{{ order.address }}</td>
        <td>{{ order.city }}</td>
        <td>{{ order.state }}</td>
        <td>{{ order.country }}</td>
        <td>{{ order.zipcode }}</td>
        <td>{{ order.status }}</td>
        <td>
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="action" value="update_status">
            <input type="hidden" name="order_id" value="{{ order.order_id }}">
            <select name="change_status">
            <option value="pending" {% if order.status == "pending" %}selected{% endif %}>Pending</option>
            <option value="shipped">Shipped</option>
            <option value="delivered">Delivered</option>
            <option value="cancelled">Cancelled</option>
            </select>
            <input type="submit" value="Update">
        </form>
        </td>
    </tr>
    {% endfor %}
    </table>
    {% else %}
    <p>No orders available.</p>
    {% endif %}

    {% endblock %}


</body>
</html>